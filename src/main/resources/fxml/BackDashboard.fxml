<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane fx:id="root"
            xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.BackDashboardController"
            stylesheets="@/styles/base-layout.css"
            styleClass="root-bg">

    <!-- LEFT MENU -->
    <left>
        <VBox fx:id="sideMenu"
              prefWidth="300.0"
              styleClass="sidebar-scroll">

            <VBox styleClass="sidebar-root" spacing="18.0">
                <padding>
                    <Insets top="18" right="18" bottom="18" left="18"/>
                </padding>

                <!-- Brand card -->
                <HBox styleClass="brand-card" spacing="12" alignment="CENTER_LEFT">
                    <ImageView fitWidth="42" fitHeight="42" preserveRatio="true" styleClass="brand-logo">
                        <image>
                            <Image url="@/images/logo.png"/>
                        </image>
                    </ImageView>

                    <VBox spacing="2">
                        <Label text="Fin Tokhroj" styleClass="brand-title"/>
                        <Label text="Votre Guide Social" styleClass="brand-subtitle"/>
                    </VBox>
                </HBox>

                <Label text="MENU" styleClass="sidebar-section"/>

                <VBox spacing="12" styleClass="nav-list">
                    <Button fx:id="btnDashboard" text="Dashboard" onAction="#showDashboard" styleClass="nav-pill"/>
                    <Button fx:id="btnUtilisateurs" text="Utilisateurs" onAction="#showUsersTable" styleClass="nav-pill"/>
                    <Button fx:id="btnLieux" text="Lieux" onAction="#showLieux" styleClass="nav-pill"/>
                    <Button fx:id="btnOffres" text="Offres" onAction="#showOffres" styleClass="nav-pill"/>
                    <Button fx:id="btnEvents" text="Événements" onAction="#showEvents" styleClass="nav-pill"/>
                </VBox>

                <Region VBox.vgrow="ALWAYS"/>

                <Button fx:id="btnGoFront" text="Aller vers Front" onAction="#goToFront" styleClass="nav-pill"/>

                <Label text="© Fin Tokhroj · JavaFX" styleClass="sidebar-footer"/>
            </VBox>
        </VBox>
    </left>

    <!-- CENTER CONTENT -->
    <center>
        <VBox spacing="14.0" styleClass="content-wrap">
            <padding>
                <Insets top="18" right="18" bottom="18" left="18"/>
            </padding>

            <!-- Header -->
            <HBox alignment="CENTER_RIGHT" spacing="12" styleClass="page-header">
                <Label text="Dashboard" styleClass="page-title"/>
                <Region HBox.hgrow="ALWAYS"/>
                
                <VBox alignment="CENTER_RIGHT" spacing="2">
                    <Label fx:id="userName" text="Nom Utilisateur" styleClass="profile-name"/>
                    <Label fx:id="userRole" text="ROLE" styleClass="chip"/>
                </VBox>
            </HBox>

            <VBox fx:id="dynamicContent" spacing="12.0" VBox.vgrow="ALWAYS"/>
        </VBox>
    </center>

</BorderPane>

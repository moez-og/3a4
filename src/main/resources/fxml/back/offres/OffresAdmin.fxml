<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.TilePane?>
<?import javafx.scene.layout.VBox?>

<VBox xmlns="http://javafx.com/javafx/21"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="controllers.back.offres.AdminOffreController"
      stylesheets="@/styles/back/sorties-admin.css"
      spacing="16"
      styleClass="sorties-root">

    <!-- KPI Row -->
    <HBox spacing="14">
        <VBox spacing="8" HBox.hgrow="ALWAYS" styleClass="kpi-card">
            <Label text="Total offres" styleClass="kpi-title"/>
            <Label fx:id="kpiTotalOffres" text="—" styleClass="kpi-number"/>
            <Label text="Toutes les offres" styleClass="kpi-sub"/>
        </VBox>

        <VBox spacing="8" HBox.hgrow="ALWAYS" styleClass="kpi-card">
            <Label text="Offres actives" styleClass="kpi-title"/>
            <Label fx:id="kpiActives" text="—" styleClass="kpi-number"/>
            <Label text="Statut = active" styleClass="kpi-sub"/>
        </VBox>

        <VBox spacing="8" HBox.hgrow="ALWAYS" styleClass="kpi-card">
            <Label text="Codes promo" styleClass="kpi-title"/>
            <Label fx:id="kpiCodes" text="—" styleClass="kpi-number"/>
            <Label text="Générés" styleClass="kpi-sub"/>
        </VBox>
    </HBox>

    <!-- Main card -->
    <VBox spacing="12" VBox.vgrow="ALWAYS" styleClass="card">
        <padding>
            <Insets top="14" right="14" bottom="14" left="14"/>
        </padding>

        <!-- Actions row -->
        <HBox spacing="12" alignment="CENTER_LEFT" styleClass="top-actions-row">
            <ComboBox fx:id="modeCombo" prefWidth="170" styleClass="filter-combo"/>
            <ComboBox fx:id="filterCombo" prefWidth="160" styleClass="filter-combo"/>
            <TextField fx:id="searchField" promptText="Rechercher…" HBox.hgrow="ALWAYS" styleClass="top-search"/>
            <Button fx:id="btnAdd" text="Ajouter" styleClass="btn-pill"/>
        </HBox>

        <StackPane VBox.vgrow="ALWAYS">
            <ScrollPane fx:id="cardsScrollOffres"
                        VBox.vgrow="ALWAYS"
                        fitToWidth="true"
                        vbarPolicy="ALWAYS"
                        hbarPolicy="NEVER"
                        pannable="true"
                        styleClass="cards-scroll">
                <content>
                    <TilePane fx:id="cardsPaneOffres"
                              hgap="14"
                              vgap="14"
                              prefColumns="2"
                              tileAlignment="TOP_LEFT"
                              styleClass="cards-pane"/>
                </content>
            </ScrollPane>

            <ScrollPane fx:id="cardsScrollCodes"
                        visible="false" managed="false"
                        VBox.vgrow="ALWAYS"
                        fitToWidth="true"
                        vbarPolicy="ALWAYS"
                        hbarPolicy="NEVER"
                        pannable="true"
                        styleClass="cards-scroll">
                <content>
                    <TilePane fx:id="cardsPaneCodes"
                              hgap="14"
                              vgap="14"
                              prefColumns="2"
                              tileAlignment="TOP_LEFT"
                              styleClass="cards-pane"/>
                </content>
            </ScrollPane>
        </StackPane>

        <Region prefHeight="2"/>
    </VBox>

</VBox>

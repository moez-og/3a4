<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.TilePane?>
<?import javafx.scene.layout.VBox?>

<!--
    EvenementsAdmin.fxml
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘  Structure 100% identique Ã  LieuxAdmin.fxml              â•‘
    â•‘  â€¢ Root VBox + stylesheets lieux-admin.css (rÃ©utilisÃ©)   â•‘
    â•‘  â€¢ KPI row 3 cards                                       â•‘
    â•‘  â€¢ StackPane contenant 3 panneaux (un seul visible)      â•‘
    â•‘    Panneau 1 : liste Ã©vÃ©nements  (TilePane responsive)   â•‘
    â•‘    Panneau 2 : inscriptions event sÃ©lectionnÃ©            â•‘
    â•‘    Panneau 3 : tickets inscription sÃ©lectionnÃ©e          â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-->
<VBox xmlns="http://javafx.com/javafx/21"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="controllers.back.evenements.EvenementsAdminController"
      stylesheets="@/styles/back/lieux-admin.css"
      spacing="16"
      styleClass="lieux-root">

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         KPI Row (mÃªme style que Lieux)
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <HBox spacing="14">

        <VBox spacing="8" HBox.hgrow="ALWAYS" styleClass="kpi-card">
            <Label text="Total Ã©vÃ©nements" styleClass="kpi-title"/>
            <Label fx:id="kpiTotal" text="â€”" styleClass="kpi-number"/>
            <Label text="Tous statuts confondus" styleClass="kpi-sub"/>
        </VBox>

        <VBox spacing="8" HBox.hgrow="ALWAYS" styleClass="kpi-card">
            <Label text="Ã‰vÃ©nements ouverts" styleClass="kpi-title"/>
            <Label fx:id="kpiOuverts" text="â€”" styleClass="kpi-number"/>
            <Label text="Statut = OUVERT" styleClass="kpi-sub"/>
        </VBox>

        <VBox spacing="8" HBox.hgrow="ALWAYS" styleClass="kpi-card">
            <Label text="Total inscriptions" styleClass="kpi-title"/>
            <Label fx:id="kpiInscriptions" text="â€”" styleClass="kpi-number"/>
            <Label text="Toutes inscriptions" styleClass="kpi-sub"/>
        </VBox>

    </HBox>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         StackPane : 3 panneaux superposÃ©s
         Un seul est visible/managed Ã  la fois
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <StackPane VBox.vgrow="ALWAYS">

        <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
             PANNEAU 1 â€” Liste des Ã‰vÃ©nements
             (= copie exacte de la main card LieuxAdmin.fxml)
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <VBox fx:id="panelEvents" spacing="12" styleClass="card"
              visible="true" managed="true">
            <padding>
                <Insets top="14" right="14" bottom="14" left="14"/>
            </padding>

            <!-- Barre actions : Filtre | Search | Calendrier | Ajouter -->
            <HBox spacing="12" alignment="CENTER_LEFT" styleClass="top-actions-row">
                <ComboBox fx:id="filterCombo" prefWidth="170" styleClass="filter-combo"/>
                <TextField fx:id="searchField"
                           promptText="Rechercher..."
                           HBox.hgrow="ALWAYS"
                           styleClass="top-search"/>
                <Button fx:id="btnCalendar" text="ðŸ“… Calendrier"
                        onAction="#onToggleCalendar"
                        styleClass="btn-pill"/>
                <Button fx:id="btnAdd" text="Ajouter"
                        onAction="#onAjouterEvenement"
                        styleClass="btn-pill"/>
            </HBox>

            <!-- TilePane responsive (identique Lieux) -->
            <ScrollPane fx:id="cardsScroll"
                        VBox.vgrow="ALWAYS"
                        fitToWidth="true"
                        vbarPolicy="ALWAYS"
                        hbarPolicy="NEVER"
                        pannable="true"
                        styleClass="cards-scroll">
                <content>
                    <TilePane fx:id="cardsPane"
                              hgap="18" vgap="18"
                              prefColumns="3"
                              tileAlignment="TOP_LEFT"
                              styleClass="cards-pane"/>
                </content>
            </ScrollPane>

            <Region prefHeight="2"/>
        </VBox>

        <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
             PANNEAU 2 â€” Inscriptions de l'Ã©vÃ©nement sÃ©lectionnÃ©
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <VBox fx:id="panelInscriptions" spacing="12" styleClass="card"
              visible="false" managed="false">
            <padding>
                <Insets top="14" right="14" bottom="14" left="14"/>
            </padding>

            <!-- Breadcrumb navigation -->
            <HBox spacing="10" alignment="CENTER_LEFT" styleClass="top-actions-row">
                <Button text="â† Ã‰vÃ©nements" onAction="#onRetourEvents"
                        styleClass="card-btn"/>
                <Label text="â€º" styleClass="card-muted"/>
                <Label fx:id="breadcrumbEvent" text="â€”" styleClass="card-title"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Label fx:id="placesInfo" text="" styleClass="card-chip"/>
            </HBox>

            <!-- RÃ©sumÃ© Ã©vÃ©nement sÃ©lectionnÃ© -->
            <VBox spacing="6" styleClass="kpi-card">
                <Label fx:id="inscEventTitle" text="â€”" styleClass="card-title"/>
                <Label fx:id="inscEventMeta"  text="â€”" styleClass="card-muted"/>
            </VBox>

            <!-- Header liste inscriptions + bouton ajouter -->
            <HBox spacing="12" alignment="CENTER_LEFT">
                <Label text="Inscriptions" styleClass="card-title"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="ï¼‹ Ajouter inscription"
                        onAction="#onAjouterInscription"
                        styleClass="btn-pill"/>
            </HBox>

            <!-- Liste des inscriptions (style identique aux cards lieux) -->
            <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS"
                        vbarPolicy="ALWAYS" hbarPolicy="NEVER"
                        styleClass="cards-scroll">
                <content>
                    <VBox fx:id="inscriptionsBox" spacing="10"
                          styleClass="cards-pane"/>
                </content>
            </ScrollPane>
        </VBox>

        <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
             PANNEAU 3 â€” Tickets de l'inscription sÃ©lectionnÃ©e
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <VBox fx:id="panelTickets" spacing="12" styleClass="card"
              visible="false" managed="false">
            <padding>
                <Insets top="14" right="14" bottom="14" left="14"/>
            </padding>

            <!-- Breadcrumb navigation -->
            <HBox spacing="10" alignment="CENTER_LEFT" styleClass="top-actions-row">
                <Button text="â† Inscriptions" onAction="#onRetourInscriptions"
                        styleClass="card-btn"/>
                <Label text="â€º" styleClass="card-muted"/>
                <Label fx:id="breadcrumbInscription" text="â€”" styleClass="card-title"/>
            </HBox>

            <!-- RÃ©sumÃ© inscription sÃ©lectionnÃ©e -->
            <VBox spacing="6" styleClass="kpi-card">
                <Label fx:id="ticketInscInfo"  text="â€”" styleClass="card-title"/>
                <Label fx:id="ticketEventInfo" text="â€”" styleClass="card-muted"/>
            </VBox>

            <!-- Header tickets + bouton gÃ©nÃ©rer -->
            <HBox spacing="12" alignment="CENTER_LEFT">
                <Label text="Tickets" styleClass="card-title"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="ðŸŽ« GÃ©nÃ©rer ticket"
                        onAction="#onGenererTicket"
                        styleClass="btn-pill"/>
            </HBox>

            <!-- Liste des tickets -->
            <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS"
                        vbarPolicy="ALWAYS" hbarPolicy="NEVER"
                        styleClass="cards-scroll">
                <content>
                    <VBox fx:id="ticketsBox" spacing="10"
                          styleClass="cards-pane"/>
                </content>
            </ScrollPane>
        </VBox>

        <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
             PANNEAU 4 â€” Calendrier des Ã‰vÃ©nements
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <VBox fx:id="panelCalendar" spacing="12" styleClass="card"
              visible="false" managed="false">
            <padding>
                <Insets top="14" right="14" bottom="14" left="14"/>
            </padding>

            <!-- Navigation mois -->
            <HBox spacing="12" alignment="CENTER_LEFT" styleClass="top-actions-row">
                <Button text="â† Retour" onAction="#onRetourFromCalendar"
                        styleClass="card-btn"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button fx:id="btnPrevMonth" text="â—€" onAction="#onPrevMonth"
                        styleClass="cal-nav-btn"/>
                <Label fx:id="calMonthLabel" text="Janvier 2026" styleClass="cal-month-title"/>
                <Button fx:id="btnNextMonth" text="â–¶" onAction="#onNextMonth"
                        styleClass="cal-nav-btn"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="Aujourd'hui" onAction="#onCalendarToday"
                        styleClass="btn-pill"/>
            </HBox>

            <!-- Grille calendrier -->
            <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS"
                        vbarPolicy="AS_NEEDED" hbarPolicy="NEVER"
                        styleClass="cards-scroll">
                <content>
                    <VBox fx:id="calendarContainer" spacing="0" styleClass="cal-container"/>
                </content>
            </ScrollPane>
        </VBox>

    </StackPane>

</VBox>

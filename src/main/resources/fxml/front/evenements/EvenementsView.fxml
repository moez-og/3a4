<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<ScrollPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.front.evenements.EvenementsController"
            fitToWidth="true"
            hbarPolicy="NEVER"
            vbarPolicy="AS_NEEDED"
            styleClass="moduleScroll">

    <content>
        <VBox spacing="18" styleClass="moduleRoot">
            <padding>
                <Insets top="8" right="8" bottom="18" left="8"/>
            </padding>

            <HBox spacing="10" alignment="CENTER_LEFT" styleClass="moduleToolbar">
                <HBox spacing="8" alignment="CENTER_LEFT" styleClass="moduleSearchBox">
                    <Label text="ðŸ”Ž" styleClass="moduleSearchIcon"/>
                    <TextField fx:id="searchField"
                               promptText="Rechercher un Ã©vÃ©nement (nom, lieu, tag)â€¦"
                               styleClass="moduleSearchField"/>
                </HBox>

                <Region HBox.hgrow="ALWAYS"/>

                <Button text="Mes inscriptions" onAction="#showMyRegistrations" styleClass="ghostBtn"/>
                <Button text="ï¼‹ Proposer un Ã©vÃ©nement" onAction="#createEvent" styleClass="primaryBtn"/>
            </HBox>

            <HBox spacing="14">
                <VBox styleClass="metricCard" HBox.hgrow="ALWAYS" spacing="4">
                    <Label fx:id="statThisWeek" text="0" styleClass="metricNumber"/>
                    <Label text="Cette semaine" styleClass="metricLabel"/>
                </VBox>

                <VBox styleClass="metricCard" HBox.hgrow="ALWAYS" spacing="4">
                    <Label fx:id="statThisMonth" text="0" styleClass="metricNumber"/>
                    <Label text="Ce mois" styleClass="metricLabel"/>
                </VBox>

                <VBox styleClass="metricCard" HBox.hgrow="ALWAYS" spacing="4">
                    <Label fx:id="statMy" text="0" styleClass="metricNumber"/>
                    <Label text="Mes inscriptions" styleClass="metricLabel"/>
                </VBox>
            </HBox>

            <HBox alignment="CENTER_LEFT" styleClass="sectionHeader">
                <VBox spacing="2">
                    <Label text="Ã‰vÃ©nements Ã  la une" styleClass="sectionTitle"/>
                    <Label text="Explore les Ã©vÃ©nements sÃ©lectionnÃ©s." styleClass="sectionHint"/>
                </VBox>

                <Region HBox.hgrow="ALWAYS"/>

                <HBox spacing="6" styleClass="chipGroup">
                    <ToggleButton fx:id="chipAll" text="Tout" onAction="#filterAll" styleClass="filterChip"/>
                    <ToggleButton fx:id="chipWeek" text="Semaine" onAction="#filterWeek" styleClass="filterChip"/>
                    <ToggleButton fx:id="chipMonth" text="Mois" onAction="#filterMonth" styleClass="filterChip"/>
                    <ToggleButton fx:id="chipFree" text="Gratuit" onAction="#filterFree" styleClass="filterChip"/>
                </HBox>
            </HBox>

            <ScrollPane fitToHeight="true" hbarPolicy="NEVER" vbarPolicy="NEVER" styleClass="hScroll">
                <content>
                    <HBox fx:id="featuredRow" spacing="14" styleClass="cardsRow"/>
                </content>
            </ScrollPane>

            <HBox alignment="CENTER_LEFT" styleClass="sectionHeader">
                <VBox spacing="2">
                    <Label text="Agenda" styleClass="sectionTitle"/>
                    <Label text="Prochains Ã©vÃ©nements (liste)." styleClass="sectionHint"/>
                </VBox>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="Actualiser" onAction="#refresh" styleClass="ghostBtn"/>
            </HBox>

            <VBox fx:id="agendaList" spacing="12"/>

        </VBox>
    </content>
</ScrollPane>
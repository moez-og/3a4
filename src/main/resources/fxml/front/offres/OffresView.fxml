<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.front.offres.OffresController"
            fx:id="offresPane"
            stylesheets="@/styles/offres/offres-front.css"
            styleClass="front-offres-root">

    <padding>
        <Insets top="8" right="8" bottom="8" left="8" />
    </padding>

    <top>
        <VBox spacing="8" styleClass="front-card">
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label text="Offres disponibles" styleClass="front-offres-title" />
                <Region HBox.hgrow="ALWAYS" />
                <ComboBox fx:id="filtreLieuCombo" prefWidth="220" promptText="Filtrer par lieu" styleClass="front-filter" />
                <Button text="Tout afficher" onAction="#onOpenAllOffers" styleClass="front-outline-btn" />
            </HBox>
            <Label text="Consulter les offres depuis l'accueil, les lieux, ou la page offres" styleClass="front-offres-subtitle" />
        </VBox>
    </top>

    <center>
        <HBox spacing="12" BorderPane.alignment="CENTER">
            <VBox spacing="8" styleClass="front-card" prefWidth="520" HBox.hgrow="ALWAYS">
                <Label text="Liste des offres" styleClass="front-section-title" />
                <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" styleClass="front-scroll">
                    <content>
                        <VBox fx:id="offersListBox" spacing="8" styleClass="offres-list-wrap">
                            <padding>
                                <Insets top="4" right="4" bottom="4" left="4" />
                            </padding>
                        </VBox>
                    </content>
                </ScrollPane>
                <VBox.vgrow>
                    <Priority fx:constant="ALWAYS" />
                </VBox.vgrow>
            </VBox>

            <VBox spacing="10" styleClass="front-card front-detail-card" prefWidth="420">
                <Label text="Détail Offre" styleClass="front-section-title" />

                <Label fx:id="detailTitre" text="Sélectionne une offre" styleClass="detail-title" />
                <Label fx:id="detailLieu" text="Lieu: -" styleClass="detail-meta" />
                <Label fx:id="detailType" text="Type: -" styleClass="detail-meta" />
                <Label fx:id="detailPourcentage" text="Réduction: -" styleClass="detail-meta" />
                <Label fx:id="detailDates" text="Validité: -" styleClass="detail-meta" />
                <Label fx:id="detailStatut" text="Statut: -" styleClass="detail-meta" />
                <Label fx:id="detailDescription" text="Description" wrapText="true" styleClass="detail-description" />

                <Button fx:id="btnGetPromo" text="Obtenir le code promo" onAction="#onGetPromo" styleClass="front-primary-btn" disable="true" />
                <Label fx:id="promoInfo" text="Aucun code promo généré." styleClass="promo-info" />
                <ImageView fx:id="qrImageView" fitWidth="210" fitHeight="210" preserveRatio="true" visible="false" managed="true" />
            </VBox>
        </HBox>
    </center>
</BorderPane>

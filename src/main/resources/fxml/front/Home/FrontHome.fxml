<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<ScrollPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.front.home.FrontHomeController"
            fitToWidth="true"
            hbarPolicy="NEVER"
            vbarPolicy="AS_NEEDED"
            styleClass="homeScroll">

    <content>
        <VBox spacing="18" styleClass="homeRoot">
            <padding>
                <Insets top="8" right="8" bottom="18" left="8"/>
            </padding>

            <!-- HERO BANNER -->
            <StackPane styleClass="heroBanner">
                <VBox spacing="10" styleClass="heroOverlay">
                    <Label text="ÙˆÙŠÙ† ØªØ­Ø¨ ØªØ®Ø±Ø¬ØŸ" styleClass="heroTitle"/>
                    <Label text="Trouve des lieux, activitÃ©s, restaurants et sorties â€” rapide, clair, stylÃ©."
                           wrapText="true" styleClass="heroSubtitle"/>

                    <HBox spacing="10" styleClass="heroSearchRow">
                        <HBox spacing="10" styleClass="heroSearch">
                            <Label text="ðŸ”Ž" styleClass="heroSearchIcon"/>
                            <TextField fx:id="heroSearchField"
                                       promptText="Ex: Sidi Bou SaÃ¯d, cafÃ©, musÃ©eâ€¦"
                                       styleClass="heroSearchField"/>
                        </HBox>
                        <Button text="Explorer" onAction="#explore" styleClass="heroCta"/>
                    </HBox>

                    <HBox spacing="10" styleClass="chipRow">
                        <Button text="CafÃ©s" onAction="#chipCafes" styleClass="chipBtn"/>
                        <Button text="Restaurants" onAction="#chipRestaurants" styleClass="chipBtn"/>
                        <Button text="MusÃ©es" onAction="#chipMusees" styleClass="chipBtn"/>
                        <Button text="Plages" onAction="#chipPlages" styleClass="chipBtn"/>
                        <Button text="Sorties" onAction="#chipSorties" styleClass="chipBtn"/>
                    </HBox>
                </VBox>
            </StackPane>

            <!-- SECTION: VILLES TENDANCE -->
            <HBox alignment="CENTER_LEFT" styleClass="sectionHeader">
                <VBox spacing="2">
                    <Label text="Villes tendance" styleClass="sectionTitle"/>
                    <Label text="Clique sur une ville pour explorer ses lieux." styleClass="sectionHint"/>
                </VBox>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="Voir tout" onAction="#seeAllCities" styleClass="linkBtn"/>
            </HBox>

            <ScrollPane fitToHeight="true" hbarPolicy="NEVER" vbarPolicy="NEVER" styleClass="hScroll">
                <content>
                    <HBox fx:id="citiesRow" spacing="14" alignment="CENTER_LEFT" styleClass="cardsRow"/>
                </content>
            </ScrollPane>

            <!-- SECTION: RECOMMANDATIONS -->
            <HBox alignment="CENTER_LEFT" styleClass="sectionHeader">
                <VBox spacing="2">
                    <Label text="Recommandations du jour" styleClass="sectionTitle"/>
                    <Label text="Suggestions rapides selon la tendance." styleClass="sectionHint"/>
                </VBox>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="Actualiser" onAction="#refreshReco" styleClass="ghostBtn"/>
            </HBox>

            <!-- Featured cards -->
            <HBox spacing="14">

                <StackPane fx:id="recoSpotCard"
                           onMouseClicked="#openRecoSpotClick"
                           styleClass="recoImageCard hoverable"
                           HBox.hgrow="ALWAYS"
                           maxWidth="1.7976931348623157E308"
                           prefHeight="220"
                           style="-fx-background-image: url('/images/demo/cities/marsa.jpg');">
                    <VBox spacing="10" styleClass="recoOverlay">
                        <HBox alignment="CENTER_LEFT" spacing="8">
                            <Label text="ðŸ”¥ Spot populaire" styleClass="recoKicker"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Label text="Top" styleClass="recoPill"/>
                        </HBox>
                        <Label text="CafÃ© panoramique" styleClass="recoHeadline"/>
                        <Label text="Vue Â· chill Â· bon plan pour une pause rapide." wrapText="true" styleClass="recoSub"/>
                        <HBox spacing="8">
                            <Label text="Calme" styleClass="recoPill"/>
                            <Label text="Vue" styleClass="recoPill"/>
                        </HBox>
                        <Region VBox.vgrow="ALWAYS"/>
                        <Button text="DÃ©couvrir" onAction="#openRecoSpotAction" styleClass="recoCta"/>
                    </VBox>
                </StackPane>

                <StackPane fx:id="recoOfferCard"
                           onMouseClicked="#openRecoOfferClick"
                           styleClass="recoImageCard hoverable"
                           HBox.hgrow="ALWAYS"
                           maxWidth="1.7976931348623157E308"
                           prefHeight="220"
                           style="-fx-background-image: url('/images/demo/cities/hero/hero-food.jpg');">
                    <VBox spacing="10" styleClass="recoOverlay">
                        <HBox alignment="CENTER_LEFT" spacing="8">
                            <Label text="ðŸŽŸ Offre du moment" styleClass="recoKicker"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Label text="-20%" styleClass="recoPill"/>
                        </HBox>
                        <Label text="Offre partenaire" styleClass="recoHeadline"/>
                        <Label text="RÃ©duction limitÃ©e cette semaine sur une sÃ©lection dâ€™adresses." wrapText="true" styleClass="recoSub"/>
                        <HBox spacing="8">
                            <Label text="Promo" styleClass="recoPill"/>
                            <Label text="LimitÃ©" styleClass="recoPill"/>
                        </HBox>
                        <Region VBox.vgrow="ALWAYS"/>
                        <Button text="Voir lâ€™offre" onAction="#openRecoOfferAction" styleClass="recoCta"/>
                    </VBox>
                </StackPane>

                <StackPane fx:id="recoSortieCard"
                           onMouseClicked="#openRecoSortieClick"
                           styleClass="recoImageCard hoverable"
                           HBox.hgrow="ALWAYS"
                           maxWidth="1.7976931348623157E308"
                           prefHeight="220"
                           style="-fx-background-image: url('/images/demo/cities/sidi.jpg');">
                    <VBox spacing="10" styleClass="recoOverlay">
                        <HBox alignment="CENTER_LEFT" spacing="8">
                            <Label text="ðŸ§­ Sortie recommandÃ©e" styleClass="recoKicker"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Label text="16:00" styleClass="recoPill"/>
                        </HBox>
                        <Label text="Balade photo" styleClass="recoHeadline"/>
                        <Label text="DÃ©part 16:00 Â· spots photos Â· ambiance week-end." wrapText="true" styleClass="recoSub"/>
                        <HBox spacing="8">
                            <Label text="Week-end" styleClass="recoPill"/>
                            <Label text="Groupe" styleClass="recoPill"/>
                        </HBox>
                        <Region VBox.vgrow="ALWAYS"/>
                        <Button text="Participer" onAction="#openRecoSortieAction" styleClass="recoCta"/>
                    </VBox>
                </StackPane>

            </HBox>

        </VBox>
    </content>
</ScrollPane>
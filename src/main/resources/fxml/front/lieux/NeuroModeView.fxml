<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<!--
    NeuroModeView â€” Vue simplifiÃ©e pour le mode neurodiversitÃ©
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Principes UX :
    â€¢ TrÃ¨s peu de texte, grandes icÃ´nes visibles
    â€¢ 3 informations clÃ©s : Prix Â· Localisation Â· Ambiance
    â€¢ Boutons larges avec labels clairs
    â€¢ Couleurs fortement contrastÃ©es (fond blanc, texte trÃ¨s sombre)
    â€¢ Aucune surcharge visuelle
-->
<VBox xmlns="http://javafx.com/javafx/21"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="controllers.front.lieux.NeuroModeController"
      spacing="0"
      styleClass="neuroRoot"
      stylesheets="@/styles/front/neuro-mode.css">

    <padding>
        <Insets top="12" right="14" bottom="16" left="14"/>
    </padding>

    <!-- â•â• TOP BAR simple â•â• -->
    <HBox alignment="CENTER_LEFT" spacing="10" styleClass="neuroTopBar">
        <Button text="â† Retour" onAction="#goBack" styleClass="neuroBackBtn"/>
        <Region HBox.hgrow="ALWAYS"/>
        <Button fx:id="favoriBtn" text="â™¡" onAction="#toggleFavori" styleClass="neuroFavBtn"/>
    </HBox>

    <!-- â•â• SCROLL â•â• -->
    <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
                styleClass="neuroScroll" VBox.vgrow="ALWAYS">
        <content>
            <VBox spacing="18">
                <padding><Insets top="12" bottom="12"/></padding>

                <!-- â•â• PHOTO HERO (grande, arrondie) â•â• -->
                <StackPane styleClass="neuroImgWrap">
                    <ImageView fx:id="heroImage"
                               fitWidth="700" fitHeight="280"
                               preserveRatio="false"
                               styleClass="neuroHeroImg"/>

                    <!-- Badge statut OUVERT/FERMÃ‰ â€” grand et clair -->
                    <Label fx:id="statusBadge" text=""
                           styleClass="neuroStatusBadge"
                           StackPane.alignment="BOTTOM_LEFT"
                           visible="false" managed="false"/>
                </StackPane>

                <!-- â•â• NOM DU LIEU â€” trÃ¨s grand â•â• -->
                <VBox spacing="6" styleClass="neuroTitleBlock">
                    <Label fx:id="lieuIcon" text="ðŸ“" styleClass="neuroLieuIcon"/>
                    <Label fx:id="lieuNom" text="Nom du lieu" wrapText="true"
                           styleClass="neuroLieuNom"/>
                    <Label fx:id="lieuCategorie" text="" styleClass="neuroCatBadge"/>
                </VBox>

                <!-- â•â• 3 INFOS CLÃ‰S (visuelles, icÃ´nes grandes) â•â• -->
                <HBox spacing="12" alignment="CENTER" styleClass="neuroKeyInfoRow">

                    <!-- Prix -->
                    <VBox alignment="CENTER" spacing="6" styleClass="neuroKeyCard" HBox.hgrow="ALWAYS">
                        <Label text="ðŸ’°" styleClass="neuroKeyIcon"/>
                        <Label text="Prix" styleClass="neuroKeyLabel"/>
                        <Label fx:id="keyPrix" text="â€”" wrapText="true" styleClass="neuroKeyValue"/>
                    </VBox>

                    <!-- Localisation -->
                    <VBox alignment="CENTER" spacing="6" styleClass="neuroKeyCard" HBox.hgrow="ALWAYS">
                        <Label text="ðŸ“" styleClass="neuroKeyIcon"/>
                        <Label text="Lieu" styleClass="neuroKeyLabel"/>
                        <Label fx:id="keyLieu" text="â€”" wrapText="true" styleClass="neuroKeyValue"/>
                    </VBox>

                    <!-- Ambiance -->
                    <VBox alignment="CENTER" spacing="6" styleClass="neuroKeyCard" HBox.hgrow="ALWAYS">
                        <Label fx:id="ambianceIcon" text="ðŸ " styleClass="neuroKeyIcon"/>
                        <Label text="Ambiance" styleClass="neuroKeyLabel"/>
                        <Label fx:id="keyAmbiance" text="â€”" wrapText="true" styleClass="neuroKeyValue"/>
                    </VBox>

                </HBox>

                <!-- â•â• RÃ‰SUMÃ‰ court (optionnel, max 2 lignes) â•â• -->
                <VBox fx:id="resumeBlock" spacing="8" styleClass="neuroResumeBlock"
                      visible="false" managed="false">
                    <Label text="â„¹ï¸  En rÃ©sumÃ©" styleClass="neuroResumeTitle"/>
                    <Label fx:id="resumeText" text="" wrapText="true"
                           styleClass="neuroResumeText"/>
                </VBox>

                <!-- â•â• HORAIRES simplifiÃ© â•â• -->
                <HBox fx:id="horairesBlock" alignment="CENTER_LEFT" spacing="14"
                      styleClass="neuroHorairesBlock" visible="false" managed="false">
                    <Label text="ðŸ•" styleClass="neuroHorairesIcon"/>
                    <Label fx:id="horairesText" text="" wrapText="true"
                           styleClass="neuroHorairesText" HBox.hgrow="ALWAYS"/>
                </HBox>

                <!-- â•â• NOTE MOYENNE (grande Ã©toile) â•â• -->
                <HBox fx:id="noteBlock" alignment="CENTER_LEFT" spacing="12"
                      styleClass="neuroNoteBlock" visible="false" managed="false">
                    <Label text="â­" styleClass="neuroNoteIcon"/>
                    <VBox spacing="2">
                        <Label fx:id="noteMoyenne" text="" styleClass="neuroNoteMoyenne"/>
                        <Label fx:id="noteCount"   text="" styleClass="neuroNoteCount"/>
                    </VBox>
                </HBox>

                <!-- â•â• AVIS SIMPLIFIÃ‰ (max 3, version courte) â•â• -->
                <VBox fx:id="avisSimpleBlock" spacing="10" styleClass="neuroAvisBlock"
                      visible="false" managed="false">
                    <Label text="ðŸ’¬  Ce qu'en disent les gens" styleClass="neuroAvisTitle"/>
                    <VBox fx:id="avisSimpleList" spacing="8"/>
                    <Button fx:id="voirTousAvisBtn" text="Voir tous les avis â†’"
                            onAction="#voirTousAvis" styleClass="neuroLinkBtn"
                            visible="false" managed="false"/>
                </VBox>

                <!-- â•â• ACTIONS â€” boutons larges et clairs â•â• -->
                <VBox spacing="12" styleClass="neuroActionsBlock">

                    <!-- Bouton Maps â€” trÃ¨s visible -->
                    <Button text="ðŸ—ºï¸   Voir sur la carte"
                            onAction="#openMaps"
                            styleClass="neuroActionPrimary"
                            maxWidth="Infinity"/>

                    <!-- Bouton Partager -->
                    <Button text="â¤´   Partager ce lieu"
                            onAction="#openShare"
                            styleClass="neuroActionSecondary"
                            maxWidth="Infinity"/>

                    <!-- Bouton Favoris -->
                    <Button fx:id="favoriBlockBtn"
                            text="â™¡   Ajouter aux favoris"
                            onAction="#toggleFavori"
                            styleClass="neuroActionFavori"
                            maxWidth="Infinity"/>

                    <!-- Bouton Ajouter sortie -->
                    <Button text="ï¼‹   Organiser une sortie ici"
                            onAction="#openSortieCreate"
                            styleClass="neuroActionSortie"
                            maxWidth="Infinity"/>

                </VBox>

                <!-- â•â• BOUTON MODE NORMAL â•â• -->
                <HBox alignment="CENTER">
                    <Button text="ðŸ”„  Revenir Ã  la vue complÃ¨te"
                            onAction="#switchToNormal"
                            styleClass="neuroSwitchBtn"/>
                </HBox>

            </VBox>
        </content>
    </ScrollPane>

</VBox>

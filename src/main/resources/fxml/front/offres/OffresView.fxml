<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<ScrollPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.front.offres.OffresController"
            fitToWidth="true"
            hbarPolicy="NEVER"
            vbarPolicy="AS_NEEDED"
            styleClass="moduleScroll">

    <content>
        <VBox spacing="18" styleClass="moduleRoot">
            <padding>
                <Insets top="8" right="8" bottom="18" left="8"/>
            </padding>

            <HBox spacing="10" alignment="CENTER_LEFT" styleClass="moduleToolbar">
                <HBox spacing="8" alignment="CENTER_LEFT" styleClass="moduleSearchBox">
                    <Label text="ðŸ”Ž" styleClass="moduleSearchIcon"/>
                    <TextField fx:id="searchField"
                               promptText="Rechercher une offre (partenaire, catÃ©gorie, tag)â€¦"
                               styleClass="moduleSearchField"/>
                </HBox>

                <Region HBox.hgrow="ALWAYS"/>

                <Button text="Mes coupons" onAction="#showMyCoupons" styleClass="ghostBtn"/>
                <Button text="ï¼‹ Proposer une offre" onAction="#createOffer" styleClass="primaryBtn"/>
            </HBox>

            <HBox spacing="14">
                <VBox styleClass="metricCard" HBox.hgrow="ALWAYS" spacing="4">
                    <Label fx:id="statActive" text="0" styleClass="metricNumber"/>
                    <Label text="Offres actives" styleClass="metricLabel"/>
                </VBox>

                <VBox styleClass="metricCard" HBox.hgrow="ALWAYS" spacing="4">
                    <Label fx:id="statPartners" text="0" styleClass="metricNumber"/>
                    <Label text="Partenaires" styleClass="metricLabel"/>
                </VBox>

                <VBox styleClass="metricCard" HBox.hgrow="ALWAYS" spacing="4">
                    <Label fx:id="statExpiring" text="0" styleClass="metricNumber"/>
                    <Label text="Expire bientÃ´t" styleClass="metricLabel"/>
                </VBox>
            </HBox>

            <HBox alignment="CENTER_LEFT" styleClass="sectionHeader">
                <VBox spacing="2">
                    <Label text="Bons plans" styleClass="sectionTitle"/>
                    <Label text="Filtre par catÃ©gorie puis explore les cartes." styleClass="sectionHint"/>
                </VBox>

                <Region HBox.hgrow="ALWAYS"/>

                <HBox spacing="6" styleClass="chipGroup">
                    <ToggleButton fx:id="chipAll" text="Tout" onAction="#filterAll" styleClass="filterChip"/>
                    <ToggleButton fx:id="chipFood" text="Food" onAction="#filterFood" styleClass="filterChip"/>
                    <ToggleButton fx:id="chipLoisirs" text="Loisirs" onAction="#filterLoisirs" styleClass="filterChip"/>
                    <ToggleButton fx:id="chipTransport" text="Transport" onAction="#filterTransport" styleClass="filterChip"/>
                    <ToggleButton fx:id="chipHot" text="Hot" onAction="#filterHot" styleClass="filterChip"/>
                </HBox>
            </HBox>

            <ScrollPane fitToHeight="true" hbarPolicy="NEVER" vbarPolicy="NEVER" styleClass="hScroll">
                <content>
                    <HBox fx:id="featuredRow" spacing="14" styleClass="cardsRow"/>
                </content>
            </ScrollPane>

            <HBox alignment="CENTER_LEFT" styleClass="sectionHeader">
                <VBox spacing="2">
                    <Label text="DerniÃ¨res offres" styleClass="sectionTitle"/>
                    <Label text="NouveautÃ©s et promotions partenaires." styleClass="sectionHint"/>
                </VBox>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="Actualiser" onAction="#refresh" styleClass="ghostBtn"/>
            </HBox>

            <ScrollPane fitToHeight="true" hbarPolicy="NEVER" vbarPolicy="NEVER" styleClass="hScroll">
                <content>
                    <HBox fx:id="latestRow" spacing="14" styleClass="cardsRow"/>
                </content>
            </ScrollPane>

        </VBox>
    </content>
</ScrollPane>